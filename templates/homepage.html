{% extends "layout.html" %}
{% block body %}
    <div class="container">
        <h1 id="home-title">ExAC Browser (Beta) | Exome Aggregation Consortium</h1>
        <div class="row">
            <div class="col-md-10 col-md-offset-1">
                <div id="home-searchbox">
                    <form action="/awesome">
                        <input type="submit" style="display: none;"/>
                        <input id="home-searchbox-input" name="query" class="form-control input-lg" type="text" placeholder="Search for a gene or variant or region"/>
                        <input type="submit" style="position: absolute; left: -9999px"/>
                    </form>
                    <p class="text-muted">
                        Examples - Gene: <a href="/awesome?query=PPARA">PPARA</a>,
                        Transcript: <a href="/transcript/ENST00000407236">ENST00000407236</a>,
                        Variant: <a href="/variant/22-46615880-T-C">22-46615880-T-C</a>,
                        Multi-alleleic variant: <a href="/awesome?query=rs1800234">rs1800234</a>,
                        Region: <a href="/region/22-46615715-46615880">22:46615715-46615880</a>
                    </p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <h3 align="center">About ExAC</h3>
                {% include "about_text.html" %}
            </div>
            <div class="col-md-4">
                <h3 align="center">Summary</h3>
            </div>
            <div class="col-md-4">
                <h3 align="center">Recent News</h3>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        $(function() {
            var bestPictures = new Bloodhound({
              datumTokenizer: Bloodhound.tokenizers.obj.whitespace('value'),
              queryTokenizer: Bloodhound.tokenizers.whitespace,
              remote: '/autocomplete/%QUERY'
            });

            bestPictures.initialize();

            $('#home-searchbox-input').typeahead(null, {
                name: 'best-pictures',
                displayKey: 'value',
                source: bestPictures.ttAdapter(),
                highlight: true,
            });
            $('#home-searchbox-input').bind('typeahead:selected', function(obj, datum) {
                window.location.href = '/awesome?query=' + datum.value;
            });
        });
    </script>
{% endblock %}