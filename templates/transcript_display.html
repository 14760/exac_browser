{% include 'coverage_selectors.html' %}
<br/>
<div id="gene_plot_container"></div>
<span id="variant_selectors_container">
    <label for="variant_consequence_types">
        <span class="btn-group" data-toggle="buttons" id="variant_consequence_types">
            <button class="btn btn-primary active consequence_display_buttons" id="consequence_lof_variant_button">
                <input type="radio">LoF
            </button>
            <button class="btn btn-primary consequence_display_buttons" id="consequence_missense_variant_button">
                <input type="radio" >Missense + LoF
            </button>
            <button class="btn btn-primary consequence_display_buttons" id="consequence_other_variant_button">
                <input type="radio" >All
            </button>
        </span>
    </label>
    <label>
        <input type="checkbox" id="filtered_checkbox" value=""> Include filtered (non-PASS) variants
    </label>
</span>
<span style="float:right">
    <label for="allele_frequency_display_group">
        Highlight:
    </label>
    <label>
        <input type="checkbox" id="inverted_checkbox" value=""> Invert (highlight rare variants)
    </label>
</span>
<script>
// Change coverage plot
$('.coverage_metric_buttons').change(function() {
    var v = $(this).attr('id').replace('_covmet_button', '');
    $('.coverage_subcat_selectors').hide();
    if (v == 'covered') {
        $('#over_x_select_container').show();
        v = $('#over_x_select').val();
    } else {
        $('#average_select_container').show();
        v = $("#average_select").val();
    }
    change_gene_chart_metric(window.coverage_stats, v);
});
$('#over_x_select').change(function() {
    change_gene_chart_metric(window.coverage_stats, $(this).val());
});
$('#average_select').change(function() {
    change_gene_chart_metric(window.coverage_stats, $(this).val());
});

// Change exon diagram
$('#inverted_checkbox').change(function() {
    setTimeout(function() {
        var v = $('#inverted_checkbox').is(':checked');
        change_gene_chart_variant_size(window.variants_in_transcript, v);
    }, 10);
});

$('.consequence_display_buttons, #filtered_checkbox').change(function() {
    setTimeout(update_variants, 10);
});
</script>